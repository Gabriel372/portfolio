var GPTHomeScreen;(function(n){function oi(n){var i,u,t,f,e;if(n&&(t=(i=n.shadowRoot)===null||i===void 0?void 0:i.querySelector("cib-conversation"),t)&&(f=(u=t.shadowRoot)===null||u===void 0?void 0:u.querySelector(d),f)&&ti){if(ui)if(fi)sj_evt.bind("showSydFSC",function(){r||(SydFSCHelper.setFreeSydneyData(),r=!0)});else CIB.onModeChanging(function(n){n!=="conversation"||r||(SydFSCHelper.setFreeSydneyData(),r=!0)});else SydFSCHelper.setFreeSydneyData();if(g&&(e=ft(),e||(b(n),tt=!0)),CIB===null||CIB===void 0?void 0:CIB.onFreeSydneyPersonaChanged){CIB.onFreeSydneyPersonaChanged(function(i){if(g&&nt&&tt&&(!i||i.type==="Copilot")){nt=!1;return}rt();ii&&(i&&i.id!=="copilot"?(CIB.config.features.enablePrivacyProtectedConversation||(CIB.config.features.enablePrivacyProtectedConversation=!0),CIB.setPrivacyForConversation(!0)):(CIB.config.features.enablePrivacyProtectedConversation=ri,CIB.setPrivacyForConversation(!1)));i&&i.type!=="Copilot"?et(n,f,t,i):b(n)});sj_evt.bind("renderWsSlot",si,!0)}}}function rt(){var n,t=document.getElementById("b_sydWelcomeTemplate_");t&&((n=t.parentNode)===null||n===void 0?void 0:n.removeChild(t))}function si(n){var t=n[1],i=n.length>2?n[2]:k;ut(t,y,i)}function ut(n,t,i,r){var f,e,u,o;if((r===void 0&&(r=0),!(r>3))&&(u=(f=n.shadowRoot)===null||f===void 0?void 0:f.querySelector("cib-conversation"),u)){if(o=(e=u.shadowRoot)===null||e===void 0?void 0:e.querySelector(d),!o){setTimeout(function(){ut(n,t,i,r+1)},12);return}ot(o,u,t,i)}}function ft(){try{var n=new URLSearchParams(_w.location.search),t=n.get("gptId");if(t)return!0}catch(i){}return!1}function b(n){sj_evt.fire("cib_init",n);hi();u&&ht(u)}function hi(){sj_evt.fire("lazyLdImg");sj_evt.fire("loadProgImages");sj_evt.fire("RMS.LoadImg")}function et(n,i,r,u){var f,e,o;u.type!=="Custom"||u.welcomeTiles&&((f=u.welcomeTiles)===null||f===void 0?void 0:f.length)!==0||(u.welcomeTiles=FreeSydneyHelper.getDefaultCustomWelcomeTiles());e=function(){return u.welcomeTiles};o=u.welcomeTiles?function(){return Promise.resolve(u.welcomeTiles)}:null;t&&it===(u===null||u===void 0?void 0:u.id)||(t=li(u),SydWelcomeScreenBase.setTileContainer(t,!1,o,e));it=u===null||u===void 0?void 0:u.id;t&&(ci(n),ot(i,r,y,k))}function ci(n){(t===null||t===void 0?void 0:t.id.slice(-1))!=="_"&&(t.id=t.getAttribute("id")+"_");t===null||t===void 0?void 0:t.setAttribute("slot",y);n.appendChild(t)}function ot(n,t,i,r){var u=n.querySelector("slot[name=".concat(r)),f;u||(u=SydWelcomeScreenBase.createSlot(r),n.prepend(u));f=t.querySelector("slot[name=".concat(i));f||(f=SydWelcomeScreenBase.createSlot(i,u),t.append(f),t.removeAttribute("empty"))}function li(n){var o,f=sj_ce(i,ct,lt),u,r,c,l,a;f.setAttribute(at,"2");var e=sj_ce(i,null,vt),s=sj_ce(i,null,pt),h=(o=n.type)===null||o===void 0?void 0:o.toLowerCase(),t=sj_ce(i,null,yt+" "+h);return ei&&(n===null||n===void 0?void 0:n.icon)&&(t.style.content="url(".concat(n.icon,")")),t.setAttribute("role","img"),t.setAttribute("alt",h),t.setAttribute("aria-label",h+" Logo"),t.setAttribute("tab-index","0"),u=sj_ce(i,null,wt),u.innerHTML=st(n.displayName||n.name),u.setAttribute("role","heading"),u.setAttribute("aria-level","2"),r=sj_ce(i,null,bt),r.innerHTML=st(n.welcomeHeader||n.description||""),r.setAttribute("role","heading"),r.setAttribute("aria-level","2"),s.appendChild(t),s.appendChild(u),e.appendChild(s),r.innerHTML&&e.appendChild(r),c=n.type!=="Custom"?gt:n.authorName,l=sj_ce(i,null,kt),l.innerHTML=p===null||p===void 0?void 0:p.replace("{0}",c),e.appendChild(l),ht(w===null||w===void 0?void 0:w.replace("{0}",c)),a=sj_ce(i,null,dt),f.appendChild(e),f.appendChild(a),f}function st(n){if(n)return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function ht(n){var r=_d.querySelector("cib-serp"),t,i,f;(r===null||r===void 0?void 0:r.shadowRoot)&&(t=r.shadowRoot.querySelector("cib-conversation"),(t===null||t===void 0?void 0:t.shadowRoot)&&(i=t.shadowRoot.querySelector("cib-welcome-container"),(i===null||i===void 0?void 0:i.shadowRoot)&&(f=i.shadowRoot.querySelector(ni),f&&(u||(u=f.innerHTML),f.innerHTML=n))))}var f,e,o,s,h,c,l,a,v,ct="b_sydWelcomeTemplate",lt="b_wlcmCont",i="div",y="wlcmCntnr",k="wlcmCntnrChld",at="data-priority",vt="b_wlcmHdr",yt="b_wlcmPersLogo",pt="b_wlcmPersLogoCont",wt="b_wlcmPersName",bt="b_wlcmPersDesc",kt="b_wlcmPersAuthorText",dt="b_wlcmTileCont",gt="Microsoft",ni=".preview-container .preview-disclaimer .disclaimer span",ti=SydFSCHelper.getConfigOrDefault((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableFreeSydney,!1),ii=SydFSCHelper.getConfigOrDefault((e=_w._sydConvConfig)===null||e===void 0?void 0:e.enableFreeSydneyPrivacy,!1),ri=SydFSCHelper.getConfigOrDefault((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enablePrivacyProtectedConversation,!1),ui=SydFSCHelper.getConfigOrDefault((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableDelayGet1PGpts,!1),fi=SydFSCHelper.getConfigOrDefault((h=_w._sydConvConfig)===null||h===void 0?void 0:h.enablePanelTransition,!1),d="#cib-chat-main",p=(c=_w._sydConvTranslation)===null||c===void 0?void 0:c.freeSydneyWelcomeAuthorText,w=(l=_w._sydConvTranslation)===null||l===void 0?void 0:l.sydneyGptCreatorWelcomeMessage,g=SydFSCHelper.getConfigOrDefault((a=_w._sydConvConfig)===null||a===void 0?void 0:a.enable1pGPTPreLoadForCopilot,!1,!0),ei=SydFSCHelper.getConfigOrDefault((v=_w._sydConvConfig)===null||v===void 0?void 0:v.enable1pGptsApi,!1),nt=!0,tt=!1,r=!1,it,t,u;n.attachPersonaChangeEvents=oi;n.removeLastWelcomeContainer=rt;n.isGPTIdInUrlParams=ft;n.renderCopilotPage=b;n.setWelcomeScreenContentForFreeSydney=et})(GPTHomeScreen||(GPTHomeScreen={}))